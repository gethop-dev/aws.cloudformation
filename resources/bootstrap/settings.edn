[{:name :project
  :tag "Project"
  :type :plain-group
  :value [{:name :name
           :tag "Project Name"
           :type :string
           :value "hop"}
          {:name :docker
           :tag "Docker configuration"
           :type :plain-group
           :value [{:name :registry
                    :type :single-choice-group
                    :value :aws
                    :choices [{:name :aws
                               :type :plain-group
                               :value [{:name :app-repository-url
                                        :type :ref
                                        :value :cloud-provider.aws.project.ecr/app-repository-url}]}]}]}
          {:name :proxy
           :type :plain-group
           :value [{:name :dev
                    :type :plain-group
                    :value [{:name :domain
                             :type :string
                             :value "localhost"}
                            {:name :protocol
                             :type :string
                             :value "http"}]}
                   {:name :test
                    :type :plain-group
                    :value [{:name :domain
                             :type :string
                             :value "app.test.invalid"}
                            {:name :protocol
                             :type :string
                             :value "https"}]}
                   {:name :prod
                    :type :plain-group
                    :value [{:name :domain
                             :type :string
                             :value "app.invalid"}
                            {:name :protocol
                             :type :string
                             :value "https"}]}]}
          {:name :profiles
           :tag "Profiles"
           :type :multiple-choice-group
           :value [:core :persistence-sql :auth-keycloak :bi-grafana :object-storage-s3 :frontend :aws :ci]
           :choices [{:name :core
                      :type :plain-group
                      :value [{:name :environment
                               :type :plain-group
                               :value [{:name :dev
                                        :type :plain-group
                                        :value [{:name :nginx-memory-limit-mb
                                                 :type :integer
                                                 :value 128}
                                                {:name :app-memory-limit-mb
                                                 :type :integer
                                                 :value 4096}]}
                                       {:name :test
                                        :type :plain-group
                                        :value [{:name :nginx-memory-limit-mb
                                                 :type :integer
                                                 :value 128}
                                                {:name :app-memory-limit-mb
                                                 :type :integer
                                                 :value 4096}]}
                                       {:name :prod
                                        :type :plain-group
                                        :value [{:name :nginx-memory-limit-mb
                                                 :type :integer
                                                 :value 128}
                                                {:name :app-memory-limit-mb
                                                 :type :integer
                                                 :value 4096}]}]}]}
                     {:name :aws
                      :type :plain-group
                      :value [{:name :aws-vault
                               :type :plain-group
                               :value [{:name :profile-prefix
                                        :type :string
                                        :value "hop"}]}
                              {:name :credentials
                               :type :plain-group
                               :value [{:name :local-dev-user
                                        :type :plain-group
                                        :value [{:name :name
                                                 :type :ref
                                                 :value :cloud-provider.aws.account.iam.local-dev-user/name}
                                                {:name :arn
                                                 :type :ref
                                                 :value :cloud-provider.aws.account.iam.local-dev-user/arn}
                                                {:name :access-key-id
                                                 :type :ref
                                                 :value :cloud-provider.aws.account.iam.local-dev-user/access-key-id}
                                                {:name :secret-access-key
                                                 :type :ref
                                                 :value :cloud-provider.aws.account.iam.local-dev-user/secret-access-key}
                                                {:name :role-arn
                                                 :type :ref
                                                 :value :cloud-provider.aws.environment.dev.iam.role/arn}]}]}]}
                     {:name :ci
                      :type :plain-group
                      :value [{:name :provider
                               :type :single-choice-group
                               :value :github-actions
                               :choices [{:name :bitbucket-pipelines
                                          :type :plain-group
                                          :value []}
                                         {:name :github-actions
                                          :type :plain-group
                                          :value []}]}
                              {:name :continuous-deployment
                               :type :single-choice-group
                               :value :aws
                               :choices [{:name :aws
                                          :type :plain-group
                                          :value [{:name :eb-s3-bucket
                                                   :type :string
                                                   :value "elasticbeanstalk-eu-west-1-XXXXXXXXXX"}
                                                  {:name :eb-application-name
                                                   :type :ref
                                                   :value :cloud-provider.aws.project.eb/application-name}
                                                  {:name :git
                                                   :type :plain-group
                                                   :value [{:name :deployment-branch
                                                            :type :string
                                                            :value "master"}]}
                                                  {:name :environment
                                                   :type :plain-group
                                                   :value [{:name :test
                                                            :type :plain-group
                                                            :value [{:name :eb-env-name
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.test.eb/environment-name}]}
                                                           {:name :prod
                                                            :type :plain-group
                                                            :value [{:name :eb-env-name
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.prod.eb/environment-name}]}]}]}]}]}
                     {:name :object-storage-s3
                      :type :plain-group
                      :value [{:name :environment
                               :type :plain-group
                               :value [{:name :dev
                                        :type :plain-group
                                        :value [{:name :bucket
                                                 :type :single-choice-group
                                                 :value :provisioned
                                                 :choices [{:name :provisioned
                                                            :type :plain-group
                                                            :value [{:name :name
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.dev.optional-services.s3/bucket-name}]}
                                                           {:name :custom
                                                            :type :plain-group
                                                            :value [{:name :name
                                                                     :type :string
                                                                     :value ""}]}]}]}
                                       {:name :test
                                        :type :plain-group
                                        :value [{:name :bucket
                                                 :type :single-choice-group
                                                 :value :provisioned
                                                 :choices [{:name :provisioned
                                                            :type :plain-group
                                                            :value [{:name :name
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.test.optional-services.s3/bucket-name}]}
                                                           {:name :custom
                                                            :type :plain-group
                                                            :value [{:name :name
                                                                     :type :string
                                                                     :value ""}]}]}]}
                                       {:name :prod
                                        :type :plain-group
                                        :value [{:name :bucket
                                                 :type :single-choice-group
                                                 :value :provisioned
                                                 :choices [{:name :provisioned
                                                            :type :plain-group
                                                            :value [{:name :name
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.prod.optional-services.s3/bucket-name}]}
                                                           {:name :custom
                                                            :type :plain-group
                                                            :value [{:name :name
                                                                     :type :string
                                                                     :value ""}]}]}]}]}]}
                     {:name :persistence-sql
                      :type :plain-group
                      :value [{:name :database
                               :type :plain-group
                               :tag "Database"
                               :value [{:name :version
                                        :tag "Postgres version"
                                        :type :string
                                        :value "12"}]}
                              {:name :deployment
                               :tag "Deployment"
                               :type :plain-group
                               :value [{:name :to-develop
                                        :type :single-choice-group
                                        :value :container
                                        :choices [{:name :container
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :container}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :dev
                                                                     :tag "Dev Environment"
                                                                     :type :plain-group
                                                                     :value [{:name :database
                                                                              :tag "Dev database"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Database name"
                                                                                       :type :string
                                                                                       :value "ebdb"}
                                                                                      {:name :port
                                                                                       :tag "Database port"
                                                                                       :type :string
                                                                                       :value "5432"}
                                                                                      {:name :memory-limit-mb
                                                                                       :type :integer
                                                                                       :value 512}
                                                                                      {:name :admin-user
                                                                                       :tag "Persistence Database Admin configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database admin username"
                                                                                                :type :string
                                                                                                :value "postgres"}
                                                                                               {:name :password
                                                                                                :tag "Database admin password"
                                                                                                :type :string
                                                                                                :value "sa"}]}
                                                                                      {:name :app-user
                                                                                       :tag "Persistence Database Application User configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database Application user's username"
                                                                                                :type :string
                                                                                                :value "app"}
                                                                                               {:name :password
                                                                                                :tag "Database Application user's password"
                                                                                                :type :string
                                                                                                :value "sa"}
                                                                                               {:name :schema
                                                                                                :tag "Database Application user's schema"
                                                                                                :type :string
                                                                                                :value "app"}]}
                                                                                      {:name :other-users
                                                                                       :type :multiple-choice-group
                                                                                       :value [:keycloak :grafana :grafana-datasource]
                                                                                       :choices [{:name :keycloak
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "keycloak"}
                                                                                                          {:name :password
                                                                                                           :type :string
                                                                                                           :value "sa"}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "keycloak"}]}
                                                                                                 {:name :grafana
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana"}
                                                                                                          {:name :password
                                                                                                           :type :string
                                                                                                           :value "sa"}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "grafana"}]}
                                                                                                 {:name :grafana-datasource
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana_datasource"}
                                                                                                          {:name :password
                                                                                                           :type :string
                                                                                                           :value "sa"}]}]}]}]}]}]}
                                                  {:name :external
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :external}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :dev
                                                                     :tag "Dev Environment"
                                                                     :type :plain-group
                                                                     :value [{:name :database
                                                                              :tag "Dev database"
                                                                              :type :plain-group
                                                                              :value [{:name :type
                                                                                       :tag "Database type"
                                                                                       :type :string
                                                                                       :value "postgresql"}
                                                                                      {:name :host
                                                                                       :tag "Database host"
                                                                                       :type :string
                                                                                       :value "db.host"}
                                                                                      {:name :name
                                                                                       :tag "Database name"
                                                                                       :type :string
                                                                                       :value "ebdb"}
                                                                                      {:name :port
                                                                                       :tag "Database port"
                                                                                       :type :string
                                                                                       :value "5432"}
                                                                                      {:name :app-user
                                                                                       :tag "Persistence Database Application User configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database Application user's username"
                                                                                                :type :string
                                                                                                :value "app"}
                                                                                               {:name :password
                                                                                                :tag "Database Application user's password"
                                                                                                :type :string
                                                                                                :value "sa"}
                                                                                               {:name :schema
                                                                                                :tag "Database Application user's schema"
                                                                                                :type :string
                                                                                                :value "app"}]}
                                                                                      {:name :other-users
                                                                                       :type :multiple-choice-group
                                                                                       :value [:keycloak :grafana]
                                                                                       :choices [{:name :keycloak
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "keycloak"}
                                                                                                          {:name :password
                                                                                                           :type :string
                                                                                                           :value ""}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "keycloak"}]}
                                                                                                 {:name :grafana
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana"}
                                                                                                          {:name :password
                                                                                                           :type :string
                                                                                                           :value ""}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "grafana"}]}
                                                                                                 {:name :grafana-datasource
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana_datasource"}
                                                                                                          {:name :password
                                                                                                           :type :password
                                                                                                           :value ""}]}]}]}]}]}]}]}
                                       {:name :to-deploy
                                        :type :single-choice-group
                                        :value :rds
                                        :choices [{:name :rds
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :external}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :test
                                                                     :type :plain-group
                                                                     :value [{:name :database
                                                                              :tag "Test database"
                                                                              :type :plain-group
                                                                              :value [{:name :type
                                                                                       :tag "Database type"
                                                                                       :type :string
                                                                                       :value "postgresql"}
                                                                                      {:name :host
                                                                                       :tag "Database host"
                                                                                       :type :ref
                                                                                       :value :cloud-provider.aws.environment.test.optional-services.rds/host}
                                                                                      {:name :name
                                                                                       :tag "Database name"
                                                                                       :type :ref
                                                                                       :value :cloud-provider.aws.environment.test.optional-services.rds/name}
                                                                                      {:name :port
                                                                                       :tag "Database port"
                                                                                       :type :ref
                                                                                       :value :cloud-provider.aws.environment.test.optional-services.rds/port}
                                                                                      {:name :admin-user
                                                                                       :tag "Persistence Database Admin configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database admin username"
                                                                                                :type :ref
                                                                                                :value :cloud-provider.aws.environment.test.optional-services.rds.admin-user/username}
                                                                                               {:name :password
                                                                                                :tag "Database admin password"
                                                                                                :type :ref
                                                                                                :value :cloud-provider.aws.environment.test.optional-services.rds.admin-user/password}]}
                                                                                      {:name :app-user
                                                                                       :tag "Persistence Database Application User configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database Application user's username "
                                                                                                :type :string
                                                                                                :value "app"}
                                                                                               {:name :password
                                                                                                :tag "Database Application user's password"
                                                                                                :type :auto-gen-password
                                                                                                :value {:length 24}}
                                                                                               {:name :schema
                                                                                                :tag "Database Application schema"
                                                                                                :type :string
                                                                                                :value "app"}]}
                                                                                      {:name :other-users
                                                                                       :type :multiple-choice-group
                                                                                       :value [:keycloak :grafana :grafana-datasource]
                                                                                       :choices [{:name :keycloak
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "keycloak"}
                                                                                                          {:name :password
                                                                                                           :type :auto-gen-password
                                                                                                           :value {:length 32}}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "keycloak"}]}
                                                                                                 {:name :grafana
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana"}
                                                                                                          {:name :password
                                                                                                           :type :auto-gen-password
                                                                                                           :value {:length 32}}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "grafana"}]}
                                                                                                 {:name :grafana-datasource
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana_datasource"}
                                                                                                          {:name :password
                                                                                                           :type :auto-gen-password
                                                                                                           :value {:length 32}}]}]}]}]}
                                                                    {:name :prod
                                                                     :type :plain-group
                                                                     :value [{:name :database
                                                                              :tag "Prod database"
                                                                              :type :plain-group
                                                                              :value [{:name :type
                                                                                       :tag "Database type"
                                                                                       :type :string
                                                                                       :value "postgresql"}
                                                                                      {:name :host
                                                                                       :tag "Database host"
                                                                                       :type :ref
                                                                                       :value :cloud-provider.aws.environment.prod.optional-services.rds/host}
                                                                                      {:name :name
                                                                                       :tag "Database name"
                                                                                       :type :ref
                                                                                       :value :cloud-provider.aws.environment.prod.optional-services.rds/name}
                                                                                      {:name :port
                                                                                       :tag "Database port"
                                                                                       :type :ref
                                                                                       :value :cloud-provider.aws.environment.prod.optional-services.rds/port}
                                                                                      {:name :admin-user
                                                                                       :tag "Persistence Database Admin configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database admin username"
                                                                                                :type :ref
                                                                                                :value :cloud-provider.aws.environment.prod.optional-services.rds.admin-user/username}
                                                                                               {:name :password
                                                                                                :tag "Database admin password"
                                                                                                :type :ref
                                                                                                :value :cloud-provider.aws.environment.prod.optional-services.rds.admin-user/password}]}
                                                                                      {:name :app-user
                                                                                       :tag "Persistence Database Application User configuration"
                                                                                       :type :plain-group
                                                                                       :value [{:name :username
                                                                                                :tag "Database Application user's username "
                                                                                                :type :string
                                                                                                :value "app"}
                                                                                               {:name :password
                                                                                                :tag "Database Application user's password"
                                                                                                :type :auto-gen-password
                                                                                                :value {:length 24}}
                                                                                               {:name :schema
                                                                                                :tag "Database Application schema"
                                                                                                :type :string
                                                                                                :value "app"}]}
                                                                                      {:name :other-users
                                                                                       :type :multiple-choice-group
                                                                                       :value [:keycloak :grafana :grafana-datasource]
                                                                                       :choices [{:name :keycloak
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "keycloak"}
                                                                                                          {:name :password
                                                                                                           :type :auto-gen-password
                                                                                                           :value {:length 32}}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "keycloak"}]}
                                                                                                 {:name :grafana
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana"}
                                                                                                          {:name :password
                                                                                                           :type :auto-gen-password
                                                                                                           :value {:length 32}}
                                                                                                          {:name :schema
                                                                                                           :type :string
                                                                                                           :value "grafana"}]}
                                                                                                 {:name :grafana-datasource
                                                                                                  :type :plain-group
                                                                                                  :value [{:name :username
                                                                                                           :type :string
                                                                                                           :value "grafana_datasource"}
                                                                                                          {:name :password
                                                                                                           :type :auto-gen-password
                                                                                                           :value {:length 32}}]}]}]}]}]}]}]}]}]}

                     {:name :bi-grafana
                      :tag "Grafana"
                      :type :plain-group
                      :value [{:name :version
                               :tag "Grafana version"
                               :type :string
                               :value "9.2.6"}
                              {:name :deployment
                               :type :plain-group
                               :value [{:name :to-develop
                                        :type :single-choice-group
                                        :tag "Development-related options"
                                        :value :container
                                        :choices [{:name :container
                                                   :type :plain-group
                                                   :value [{:name :db-deployment-type
                                                            :type :ref
                                                            :value :project.profiles.persistence-sql.deployment.to-develop.?/deployment-type}
                                                           {:name :deployment-type
                                                            :type :keyword
                                                            :value :container}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :dev
                                                                     :tag "Dev Environment"
                                                                     :type :plain-group
                                                                     ;; TODO: decide if we need it here or we get it from the code directly.
                                                                     :value [{:name :server-domain
                                                                              :type :ref
                                                                              :tag "Server domain"
                                                                              :value :project.proxy.dev/domain}
                                                                             {:name :sso
                                                                              :type :boolean
                                                                              :tag "Single sign on"
                                                                              :value true}
                                                                             {:name :memory-limit-mb
                                                                              :type :integer
                                                                              :value 1024}
                                                                             {:name :admin-user
                                                                              :type :plain-group
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "admin"}
                                                                                      {:name :password
                                                                                       :type :string
                                                                                       :tag "Password"
                                                                                       :value "admin"}]}
                                                                             {:name :database
                                                                              :tag "Database configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :host
                                                                                       :tag "Host"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/host}
                                                                                      {:name :port
                                                                                       :tag "Port"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/port}
                                                                                      {:name :name
                                                                                       :tag "Name"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/name}
                                                                                      {:name :username
                                                                                       :tag "Username"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.grafana/username}
                                                                                      {:name :password
                                                                                       :tag "Password"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.grafana/password}
                                                                                      {:name :schema
                                                                                       :tag "Schema"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.grafana/schema}]}
                                                                             {:name :app-integration
                                                                              :type :plain-group
                                                                              :tag "App integration"
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "grafana_integration"}
                                                                                      {:name :password
                                                                                       :type :auto-gen-password
                                                                                       :tag "Password"
                                                                                       :value {:length 24}}]}
                                                                             {:name :oidc
                                                                              :type :single-choice-group
                                                                              :value :keycloak-profile
                                                                              :choices [{:name :keycloak-profile
                                                                                         :type :plain-group
                                                                                         :value [{:name :token-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/token-url}
                                                                                                 {:name :api-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/api-url}
                                                                                                 {:name :auth-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/auth-url}
                                                                                                 {:name :logout-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev/logout-url}
                                                                                                 {:name :client-id
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev.other-clients.grafana/id}
                                                                                                 {:name :client-secret
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-develop.?.environment.dev.other-clients.grafana/secret}]}]}]}]}]}
                                                  {:name :external
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :external}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :dev
                                                                     :type :plain-group
                                                                     :tag "Dev"
                                                                     :value [{:name :uri
                                                                              :type :string
                                                                              :tag "URI"
                                                                              :value "http://localhost/grafana"}
                                                                             {:name :sso
                                                                              :type :boolean
                                                                              :tag "Single sign on"
                                                                              :value true}
                                                                             {:name :app-integration
                                                                              :type :plain-group
                                                                              :tag "App integration"
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "grafana_integration"}
                                                                                      {:name :password
                                                                                       :type :password
                                                                                       :tag "Password"
                                                                                       :value ""}]}]}]}]}]}
                                       {:name :to-deploy
                                        :type :single-choice-group
                                        :tag "Deployment-related options"
                                        :value :container
                                        :choices [{:name :container
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :container}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :test
                                                                     :tag "Test Environment"
                                                                     :type :plain-group
                                                                     :value [{:name :server-domain
                                                                              :type :ref
                                                                              :tag "Server domain"
                                                                              :value :project.proxy.test/domain}
                                                                             {:name :sso
                                                                              :type :boolean
                                                                              :tag "Single sign on"
                                                                              :value true}
                                                                             {:name :memory-limit-mb
                                                                              :type :integer
                                                                              :value 1024}
                                                                             {:name :admin-user
                                                                              :type :plain-group
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "admin"}
                                                                                      {:name :password
                                                                                       :type :auto-gen-password
                                                                                       :tag "Password"
                                                                                       :value {:length 24}}]}
                                                                             {:name :database
                                                                              :tag "Database configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :host
                                                                                       :tag "Host"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/host}
                                                                                      {:name :port
                                                                                       :tag "Port"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/port}
                                                                                      {:name :name
                                                                                       :tag "Name"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/name}
                                                                                      {:name :username
                                                                                       :tag "Username"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.grafana/username}
                                                                                      {:name :password
                                                                                       :tag "Password"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.grafana/password}
                                                                                      {:name :schema
                                                                                       :tag "Schema"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.grafana/schema}]}
                                                                             {:name :app-integration
                                                                              :type :plain-group
                                                                              :tag "App integration"
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "grafana_integration"}
                                                                                      {:name :password
                                                                                       :type :auto-gen-password
                                                                                       :tag "Password"
                                                                                       :value {:length 24}}]}
                                                                             {:name :oidc
                                                                              :type :single-choice-group
                                                                              :value :keycloak-profile
                                                                              :choices [{:name :keycloak-profile
                                                                                         :type :plain-group
                                                                                         :value [{:name :token-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/token-url}
                                                                                                 {:name :api-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/api-url}
                                                                                                 {:name :auth-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/auth-url}
                                                                                                 {:name :logout-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test/logout-url}
                                                                                                 {:name :client-id
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test.other-clients.grafana/id}
                                                                                                 {:name :client-secret
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.test.other-clients.grafana/secret}]}]}]}
                                                                    {:name :prod
                                                                     :tag "Prod Environment"
                                                                     :type :plain-group
                                                                     :value [{:name :server-domain
                                                                              :type :ref
                                                                              :tag "Server domain"
                                                                              :value :project.proxy.prod/domain}
                                                                             {:name :sso
                                                                              :type :boolean
                                                                              :tag "Single sign on"
                                                                              :value true}
                                                                             {:name :memory-limit-mb
                                                                              :type :integer
                                                                              :value 1024}
                                                                             {:name :admin-user
                                                                              :type :plain-group
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "admin"}
                                                                                      {:name :password
                                                                                       :type :auto-gen-password
                                                                                       :tag "Password"
                                                                                       :value {:length 24}}]}
                                                                             {:name :database
                                                                              :tag "Database configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :host
                                                                                       :tag "Host"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/host}
                                                                                      {:name :port
                                                                                       :tag "Port"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/port}
                                                                                      {:name :name
                                                                                       :tag "Name"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/name}
                                                                                      {:name :username
                                                                                       :tag "Username"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.grafana/username}
                                                                                      {:name :password
                                                                                       :tag "Password"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.grafana/password}
                                                                                      {:name :schema
                                                                                       :tag "Schema"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.grafana/schema}]}
                                                                             {:name :app-integration
                                                                              :type :plain-group
                                                                              :tag "App integration"
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "grafana_integration"}
                                                                                      {:name :password
                                                                                       :type :auto-gen-password
                                                                                       :tag "Password"
                                                                                       :value {:length 24}}]}
                                                                             {:name :oidc
                                                                              :type :single-choice-group
                                                                              :value :keycloak-profile
                                                                              :choices [{:name :keycloak-profile
                                                                                         :type :plain-group
                                                                                         :value [{:name :token-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/token-url}
                                                                                                 {:name :api-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/api-url}
                                                                                                 {:name :auth-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/auth-url}
                                                                                                 {:name :logout-url
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod/logout-url}
                                                                                                 {:name :client-id
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod.other-clients.grafana/id}
                                                                                                 {:name :client-secret
                                                                                                  :type :ref
                                                                                                  :value :project.profiles.auth-keycloak.deployment.to-deploy.?.environment.prod.other-clients.grafana/secret}]}]}]}]}]}
                                                  {:name :external
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :external}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :test
                                                                     :type :plain-group
                                                                     :tag "Test"
                                                                     :value [{:name :uri
                                                                              :type :string
                                                                              :tag "URI"
                                                                              :value "http://localhost/grafana"}
                                                                             {:name :sso
                                                                              :type :boolean
                                                                              :tag "Single sign on"
                                                                              :value true}
                                                                             {:name :app-integration
                                                                              :type :plain-group
                                                                              :tag "App integration"
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "grafana_integration"}
                                                                                      {:name :password
                                                                                       :type :password
                                                                                       :tag "Password"
                                                                                       :value ""}]}]}
                                                                    {:name :prod
                                                                     :type :plain-group
                                                                     :tag "Prod"
                                                                     :value [{:name :uri
                                                                              :type :string
                                                                              :tag "URI"
                                                                              :value "http://localhost/grafana"}
                                                                             {:name :sso
                                                                              :type :boolean
                                                                              :tag "Single sign on"
                                                                              :value true}
                                                                             {:name :app-integration
                                                                              :type :plain-group
                                                                              :tag "App integration"
                                                                              :value [{:name :username
                                                                                       :type :string
                                                                                       :tag "User name"
                                                                                       :value "grafana_integration"}
                                                                                      {:name :password
                                                                                       :type :password
                                                                                       :tag "Password"
                                                                                       :value ""}]}]}]}]}]}]}]}
                     {:name :auth-keycloak
                      :tag "Keycloak"
                      :type :plain-group
                      :value [{:name :version
                               :tag "Keycloak version"
                               :type :string
                               :value "20.0"}
                              {:name :deployment
                               :tag "Deployment"
                               :type :plain-group
                               :value [{:name :to-develop
                                        :type :single-choice-group
                                        :value :container
                                        :choices [{:name :container
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :container}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :dev
                                                                     :type :plain-group
                                                                     :value [{:name :admin
                                                                              :tag "Admin configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :username
                                                                                       :tag "Admin username"
                                                                                       :type :string
                                                                                       :value "admin"}
                                                                                      {:name :password
                                                                                       :tag "Admin password"
                                                                                       :type :string
                                                                                       :value "Testpassword1!"}]}
                                                                             {:name :memory-limit-mb
                                                                              :type :integer
                                                                              :value 768}
                                                                             {:name :app-client
                                                                              :tag "Application client-id"
                                                                              :type :plain-group
                                                                              :value [{:name :id
                                                                                       :type :string
                                                                                       :value "hop-spa-XXXXXXXX"}]}
                                                                             {:name :other-clients
                                                                              :tag "Other clients"
                                                                              :type :multiple-choice-group
                                                                              :value [:grafana]
                                                                              :choices [{:name :grafana
                                                                                         :type :plain-group
                                                                                         :value [{:name :id
                                                                                                  :type :string
                                                                                                  :value "hop-grafana-XXXXXXX"}
                                                                                                 {:name :secret
                                                                                                  :type :auto-gen-password
                                                                                                  :value {:length 32}}]}]}
                                                                             {:name :realm
                                                                              :tag "Realm configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Realm name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :theme
                                                                              :tag "Theme configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Theme name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :database
                                                                              :tag "Database configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :host
                                                                                       :tag "Host"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/host}
                                                                                      {:name :port
                                                                                       :tag "Port"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/port}
                                                                                      {:name :name
                                                                                       :tag "Name"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database/name}
                                                                                      {:name :username
                                                                                       :tag "Username"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.keycloak/username}
                                                                                      {:name :password
                                                                                       :tag "Password"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.keycloak/password}
                                                                                      {:name :schema
                                                                                       :tag "Schema"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-develop.?.environment.dev.database.other-users.keycloak/schema}]}]}]}]}
                                                  {:name :external
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :external}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :dev
                                                                     :type :plain-group
                                                                     :value [{:name :realm
                                                                              :tag "Realm configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Realm name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :uri
                                                                              :tag "Keycloak URI"
                                                                              :type :string
                                                                              :value "http://localhost/auth"}
                                                                             {:name :app-client
                                                                              :tag "Application client-id"
                                                                              :type :plain-group
                                                                              :value [{:name :id
                                                                                       :type :string
                                                                                       :value "hop-spa-XXXXXXXX"}]}
                                                                             {:name :other-clients
                                                                              :tag "Other clients"
                                                                              :type :multiple-choice-group
                                                                              :value [:grafana]
                                                                              :choices [{:name :grafana
                                                                                         :type :plain-group
                                                                                         :value [{:name :id
                                                                                                  :type :string
                                                                                                  :value "hop-grafana-XXXXXXX"}
                                                                                                 {:name :secret
                                                                                                  :type :auto-gen-password
                                                                                                  :value {:length 32}}]}]}]}]}]}]}
                                       {:name :to-deploy
                                        :type :single-choice-group
                                        :value :container
                                        :choices [{:name :container
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :container}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :test
                                                                     :type :plain-group
                                                                     :value [{:name :admin
                                                                              :tag "Admin configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :username
                                                                                       :tag "Admin username"
                                                                                       :type :string
                                                                                       :value "admin"}
                                                                                      {:name :password
                                                                                       :tag "Admin password"
                                                                                       :type :auto-gen-password
                                                                                       :value {:length 24}}]}
                                                                             {:name :memory-limit-mb
                                                                              :type :integer
                                                                              :value 768}
                                                                             {:name :app-client
                                                                              :tag "Application client-id"
                                                                              :type :plain-group
                                                                              :value [{:name :id
                                                                                       :type :string
                                                                                       :value "hop-spa-XXXXXXXX"}]}
                                                                             {:name :other-clients
                                                                              :tag "Other clients"
                                                                              :type :multiple-choice-group
                                                                              :value [:grafana]
                                                                              :choices [{:name :grafana
                                                                                         :type :plain-group
                                                                                         :value [{:name :id
                                                                                                  :type :string
                                                                                                  :value "hop-grafana-XXXXXXX"}
                                                                                                 {:name :secret
                                                                                                  :type :auto-gen-password
                                                                                                  :value {:length 32}}]}]}
                                                                             {:name :realm
                                                                              :tag "Realm configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Realm name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :theme
                                                                              :tag "Theme configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Theme name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :database
                                                                              :tag "Database configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :host
                                                                                       :tag "Host"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/host}
                                                                                      {:name :port
                                                                                       :tag "Port"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/port}
                                                                                      {:name :name
                                                                                       :tag "Name"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database/name}
                                                                                      {:name :username
                                                                                       :tag "Username"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.keycloak/username}
                                                                                      {:name :password
                                                                                       :tag "Password"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.keycloak/password}
                                                                                      {:name :schema
                                                                                       :tag "Schema"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.test.database.other-users.keycloak/schema}]}]}
                                                                    {:name :prod
                                                                     :type :plain-group
                                                                     :value [{:name :admin
                                                                              :tag "Admin configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :username
                                                                                       :tag "Admin username"
                                                                                       :type :string
                                                                                       :value "admin"}
                                                                                      {:name :password
                                                                                       :tag "Admin password"
                                                                                       :type :auto-gen-password
                                                                                       :value {:length 24}}]}
                                                                             {:name :memory-limit-mb
                                                                              :type :integer
                                                                              :value 768}
                                                                             {:name :app-client
                                                                              :tag "Application client-id"
                                                                              :type :plain-group
                                                                              :value [{:name :id
                                                                                       :type :string
                                                                                       :value "hop-spa-XXXXXXXX"}]}
                                                                             {:name :other-clients
                                                                              :tag "Other clients"
                                                                              :type :multiple-choice-group
                                                                              :value [:grafana]
                                                                              :choices [{:name :grafana
                                                                                         :type :plain-group
                                                                                         :value [{:name :id
                                                                                                  :type :string
                                                                                                  :value "hop-grafana-XXXXXXX"}
                                                                                                 {:name :secret
                                                                                                  :type :auto-gen-password
                                                                                                  :value {:length 32}}]}]}
                                                                             {:name :realm
                                                                              :tag "Realm configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Realm name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :theme
                                                                              :tag "Theme configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Theme name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :database
                                                                              :tag "Database configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :host
                                                                                       :tag "Host"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/host}
                                                                                      {:name :port
                                                                                       :tag "Port"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/port}
                                                                                      {:name :name
                                                                                       :tag "Name"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database/name}
                                                                                      {:name :username
                                                                                       :tag "Username"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.keycloak/username}
                                                                                      {:name :password
                                                                                       :tag "Password"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.keycloak/password}
                                                                                      {:name :schema
                                                                                       :tag "Schema"
                                                                                       :type :ref
                                                                                       :value :project.profiles.persistence-sql.deployment.to-deploy.?.environment.prod.database.other-users.keycloak/schema}]}]}]}]}
                                                  {:name :external
                                                   :type :plain-group
                                                   :value [{:name :deployment-type
                                                            :type :keyword
                                                            :value :external}
                                                           {:name :environment
                                                            :type :plain-group
                                                            :value [{:name :test
                                                                     :type :plain-group
                                                                     :value [{:name :realm
                                                                              :tag "Realm configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Realm name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :uri
                                                                              :tag "Keycloak URI"
                                                                              :type :string
                                                                              :value "http://localhost/auth"}
                                                                             {:name :app-client
                                                                              :tag "Application client-id"
                                                                              :type :plain-group
                                                                              :value [{:name :id
                                                                                       :type :string
                                                                                       :value "hop-spa-XXXXXXXX"}]}
                                                                             {:name :other-clients
                                                                              :tag "Other clients"
                                                                              :type :multiple-choice-group
                                                                              :value [:grafana]
                                                                              :choices [{:name :grafana
                                                                                         :type :plain-group
                                                                                         :value [{:name :id
                                                                                                  :type :string
                                                                                                  :value "hop-grafana-XXXXXXX"}
                                                                                                 {:name :secret
                                                                                                  :type :auto-gen-password
                                                                                                  :value {:length 32}}]}]}]}
                                                                    {:name :prod
                                                                     :type :plain-group
                                                                     :value [{:name :realm
                                                                              :tag "Realm configuration"
                                                                              :type :plain-group
                                                                              :value [{:name :name
                                                                                       :tag "Realm name"
                                                                                       :type :string
                                                                                       :value "hop"}]}
                                                                             {:name :uri
                                                                              :tag "Keycloak URI"
                                                                              :type :string
                                                                              :value "http://localhost/auth"}
                                                                             {:name :app-client
                                                                              :tag "Application client-id"
                                                                              :type :plain-group
                                                                              :value [{:name :id
                                                                                       :type :string
                                                                                       :value "hop-spa-XXXXXXXX"}]}
                                                                             {:name :other-clients
                                                                              :tag "Other clients"
                                                                              :type :multiple-choice-group
                                                                              :value [:grafana]
                                                                              :choices [{:name :grafana
                                                                                         :type :plain-group
                                                                                         :value [{:name :id
                                                                                                  :type :string
                                                                                                  :value "hop-grafana-XXXXXXX"}
                                                                                                 {:name :secret
                                                                                                  :type :auto-gen-password
                                                                                                  :value {:length 32}}]}]}]}]}]}]}]}]}
                     {:name :auth-cognito
                      :type :plain-group
                      :value [{:name :environment
                               :type :plain-group
                               :value [{:name :dev
                                        :type :plain-group
                                        :value [{:name :user-pool
                                                 :type :single-choice-group
                                                 :value :provisioned
                                                 :choices [{:name :provisioned
                                                            :type :plain-group
                                                            :value [{:name :id
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.dev.optional-services.cognito.user-pool/id}
                                                                    {:name :url
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.dev.optional-services.cognito.user-pool/url}
                                                                    {:name :app-client
                                                                     :type :plain-group
                                                                     :value [{:name :id
                                                                              :type :ref
                                                                              :value :cloud-provider.aws.environment.dev.optional-services.cognito.user-pool.app-client/id}]}]}
                                                           {:name :custom
                                                            :type :plain-group
                                                            :value [{:name :id
                                                                     :type :string
                                                                     :value ""}
                                                                    {:name :url
                                                                     :type :string
                                                                     :value ""}
                                                                    {:name :app-client
                                                                     :type :plain-group
                                                                     :value [{:name :id
                                                                              :type :string
                                                                              :value ""}]}]}]}]}
                                       {:name :test
                                        :type :plain-group
                                        :value [{:name :user-pool
                                                 :type :single-choice-group
                                                 :value :provisioned
                                                 :choices [{:name :provisioned
                                                            :type :plain-group
                                                            :value [{:name :id
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.test.optional-services.cognito.user-pool/id}
                                                                    {:name :url
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.test.optional-services.cognito.user-pool/url}
                                                                    {:name :app-client
                                                                     :type :plain-group
                                                                     :value [{:name :id
                                                                              :type :ref
                                                                              :value :cloud-provider.aws.environment.test.optional-services.cognito.app-client/id}]}]}
                                                           {:name :custom
                                                            :type :plain-group
                                                            :value [{:name :id
                                                                     :type :string
                                                                     :value ""}
                                                                    {:name :url
                                                                     :type :string
                                                                     :value ""}
                                                                    {:name :app-client
                                                                     :type :plain-group
                                                                     :value [{:name :id
                                                                              :type :string
                                                                              :value ""}]}]}]}]}
                                       {:name :prod
                                        :type :plain-group
                                        :value [{:name :user-pool
                                                 :type :single-choice-group
                                                 :value :provisioned
                                                 :choices [{:name :provisioned
                                                            :type :plain-group
                                                            :value [{:name :id
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.prod.optional-services.cognito.user-pool/id}
                                                                    {:name :url
                                                                     :type :ref
                                                                     :value :cloud-provider.aws.environment.prod.optional-services.cognito.user-pool/url}
                                                                    {:name :app-client
                                                                     :type :plain-group
                                                                     :value [{:name :id
                                                                              :type :ref
                                                                              :value :cloud-provider.aws.environment.prod.optional-services.cognito.app-client/id}]}]}
                                                           {:name :custom
                                                            :type :plain-group
                                                            :value [{:name :id
                                                                     :type :string
                                                                     :value ""}
                                                                    {:name :url
                                                                     :type :string
                                                                     :value ""}
                                                                    {:name :client-id
                                                                     :type :string
                                                                     :value ""}]}]}]}]}]}]}]}
 {:name :cloud-provider
  :tag "AWS infrastructure"
  :type :single-choice-group
  :value :aws
  :choices [{:name :aws
             :tag "AWS infrastructure"
             :type :plain-group
             :value [{:name :cloudformation
                      :tag "Account"
                      :type :plain-group
                      :value [{:name :template-bucket-name
                               :tag "Cloudformation Template Bucket"
                               :type :string
                               :value "cloudformation-templates-223330293187"}]}
                     {:name :account
                      :tag "Account"
                      :type :plain-group
                      :value [{:name :stack-name
                               :tag "Stack-name"
                               :type :string
                               :value "hop-account"}
                              {:name :resource-name-prefix
                               :tag "Resource name prefix"
                               :type :string
                               :value "hop"}
                              {:name :vpc
                               :tag "VPC"
                               :type :plain-group
                               :value [{:name :cidr
                                        :tag "VPC CIDR"
                                        :type :string
                                        :value "172.31.0.0/16"}]}]}
                     {:name :project
                      :tag "Project"
                      :type :plain-group
                      :value [{:name :stack-name
                               :tag "Stack-name"
                               :type :string
                               :value "hop-project"}
                              {:name :vpc
                               :tag "VPC"
                               :type :plain-group
                               :value [{:name :subnet-1
                                        :tag "Subnet 1"
                                        :type :plain-group
                                        :value [{:name :cidr
                                                 :tag "CIDR"
                                                 :type :string
                                                 :value "172.31.0.0/24"}]}
                                       {:name :subnet-2
                                        :tag "Subnet 2"
                                        :type :plain-group
                                        :value [{:name :cidr
                                                 :tag "CIDR"
                                                 :type :string
                                                 :value "172.31.1.0/24"}]}]}]}
                     {:name :environment
                      :tag "Environment"
                      :type :plain-group
                      :value [{:name :dev
                               :tag "Dev"
                               :type :plain-group
                               :value [{:name :stack-name
                                        :tag "Stack-name"
                                        :type :string
                                        :value "hop-test-dev"}
                                       {:name :optional-services
                                        :type :multiple-choice-group
                                        :value [:cognito :s3]
                                        :choices [{:name :cognito
                                                   :type :plain-group
                                                   :value []}
                                                  {:name :s3
                                                   :type :plain-group
                                                   :value []}]}]}
                              {:name :test
                               :tag "Test"
                               :type :plain-group
                               :value [{:name :stack-name
                                        :tag "Stack-name"
                                        :type :string
                                        :value "hop-test-test"}
                                       {:name :notifications-email
                                        :tag "Notifications email"
                                        :type :string
                                        :value "devops+test@magnet.coop"}
                                       {:name :eb
                                        :type :plain-group
                                        :value [{:name :ec2-instance-type
                                                 :type :string
                                                 :value "t3.micro"}]}
                                       {:name :optional-services
                                        :type :multiple-choice-group
                                        :value [:rds :cognito :s3]
                                        :choices [{:name :cognito
                                                   :type :plain-group
                                                   :value []}
                                                  {:name :s3
                                                   :type :plain-group
                                                   :value []}
                                                  {:name :rds
                                                   :tag "RDS"
                                                   :type :plain-group
                                                   :value [{:name :version
                                                            :type :string
                                                            :value "12"}
                                                           {:name :port
                                                            :type :string
                                                            :value "5432"}
                                                           {:name :name
                                                            :type :string
                                                            :value "ebdb"}
                                                           {:name :admin-user
                                                            :type :plain-group
                                                            :value [{:name :username
                                                                     :tag "Database admin username"
                                                                     :type :string
                                                                     :value "postgres"}
                                                                    {:name :password
                                                                     :tag "Database admin password"
                                                                     :type :auto-gen-password
                                                                     :value {:length 24}}]}]}]}
                                       {:name :kms
                                        :tag "KMS"
                                        :type :plain-group
                                        :value [{:name :key-alias
                                                 :tag "Key Alias"
                                                 :type :string
                                                 :value "alias/hop-test"}]}]}
                              {:name :prod
                               :tag "Prod"
                               :type :plain-group
                               :value [{:name :stack-name
                                        :tag "Stack-name"
                                        :type :string
                                        :value "hop-project-prod"}
                                       {:name :notifications-email
                                        :tag "Notifications email"
                                        :type :string
                                        :value "devops+prod@magnet.coop"}
                                       {:name :eb
                                        :type :plain-group
                                        :value [{:name :ec2-instance-type
                                                 :type :string
                                                 :value "t3.micro"}]}
                                       {:name :optional-services
                                        :type :multiple-choice-group
                                        :value [:rds :cognito :s3]
                                        :choices [{:name :cognito
                                                   :type :plain-group
                                                   :value []}
                                                  {:name :s3
                                                   :type :plain-group
                                                   :value []}
                                                  {:name :rds
                                                   :tag "RDS"
                                                   :type :plain-group
                                                   :value [{:name :version
                                                            :type :string
                                                            :value "12"}
                                                           {:name :port
                                                            :type :string
                                                            :value "5432"}
                                                           {:name :name
                                                            :type :string
                                                            :value "ebdb"}
                                                           {:name :admin-user
                                                            :type :plain-group
                                                            :value [{:name :username
                                                                     :tag "Database admin username"
                                                                     :type :string
                                                                     :value "postgres"}
                                                                    {:name :password
                                                                     :tag "Database admin password"
                                                                     :type :auto-gen-password
                                                                     :value {:length 24}}]}]}]}
                                       {:name :kms
                                        :tag "KMS"
                                        :type :plain-group
                                        :value [{:name :key-alias
                                                 :tag "Key Alias"
                                                 :type :string
                                                 :value "alias/hop-prod"}]}]}]}]}]}]
